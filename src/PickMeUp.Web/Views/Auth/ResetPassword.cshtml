@model PickMeUp.Web.Models.Auth.ResetPasswordViewModel
@{
    ViewData["Title"] = "Reimposta Password";
    Layout = "_Layout";
}

<div class="pmu-landing">
    <div class="pmu-content" style="max-width: 500px;">
        <div class="pmu-page-section pmu-dark-theme">
            <div class="text-center mb-4">
                <h2>üîê Reimposta Password</h2>
                <p class="pmu-subtitle text-center">Inserisci la tua nuova password</p>
            </div>

            <form asp-controller="Auth" asp-action="ResetPassword" method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>
                
                <input type="hidden" asp-for="UserId" />
                <input type="hidden" asp-for="Token" />

                <div class="pmu-form-group">
                    <div class="pmu-password-label-row">
                        <label asp-for="NewPassword"></label>
                        <div class="pmu-password-indicators">
                            <div class="pmu-password-strength" id="resetPasswordStrength">
                                <div class="pmu-strength-indicator">
                                    <span class="pmu-strength-dot" data-rule="length"></span>
                                    <span class="pmu-strength-dot" data-rule="number"></span>
                                    <span class="pmu-strength-dot" data-rule="uppercase"></span>
                                    <span class="pmu-strength-dot" data-rule="special"></span>
                                </div>
                            </div>
                            <button type="button" class="pmu-password-info-btn" id="resetPasswordInfo" tabindex="-1">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M10 6V10M10 14H10.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="pmu-password-requirements" id="resetPasswordRequirements" style="display: none;">
                            <div class="pmu-requirement" data-rule="length">
                                <span class="pmu-requirement-icon">‚óè</span>
                                <span class="pmu-requirement-text">Almeno 8 caratteri</span>
                            </div>
                            <div class="pmu-requirement" data-rule="number">
                                <span class="pmu-requirement-icon">‚óè</span>
                                <span class="pmu-requirement-text">Un numero</span>
                            </div>
                            <div class="pmu-requirement" data-rule="uppercase">
                                <span class="pmu-requirement-icon">‚óè</span>
                                <span class="pmu-requirement-text">Una lettera maiuscola</span>
                            </div>
                            <div class="pmu-requirement" data-rule="special">
                                <span class="pmu-requirement-icon">‚óè</span>
                                <span class="pmu-requirement-text">Un carattere speciale (!@@#$%^&amp;*)</span>
                            </div>
                        </div>
                    </div>
                    <div class="pmu-password-input-wrapper">
                        <input asp-for="NewPassword" class="pmu-form-control" placeholder="Minimo 8 caratteri" id="resetPassword" />
                        <button type="button" class="pmu-password-toggle" data-target="resetPassword" tabindex="-1">
                            <svg class="eye-open" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="10" cy="10" r="2.5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <svg class="eye-closed" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                <path d="M3 3l14 14M10 7a3 3 0 013 3M10 13a3 3 0 01-3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M7.5 6.5C8.3 6.2 9.1 6 10 6c5 0 8.27 3.11 9 6a11 11 0 01-2.16 3.19M12.5 13.5A5.5 5.5 0 011 10a11 11 0 012.84-3.69" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                        </button>
                    </div>
                    <span asp-validation-for="NewPassword" class="pmu-invalid-feedback"></span>
                </div>

                <div class="pmu-form-group">
                    <label asp-for="ConfirmPassword"></label>
                    <div class="pmu-password-input-wrapper">
                        <input asp-for="ConfirmPassword" class="pmu-form-control" placeholder="Ripeti la password" id="resetConfirmPassword" />
                        <button type="button" class="pmu-password-toggle" data-target="resetConfirmPassword" tabindex="-1">
                            <svg class="eye-open" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 4C5 4 1.73 7.11 1 10c.73 2.89 4 6 9 6s8.27-3.11 9-6c-.73-2.89-4-6-9-6z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="10" cy="10" r="2.5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <svg class="eye-closed" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                <path d="M3 3l14 14M10 7a3 3 0 013 3M10 13a3 3 0 01-3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <path d="M7.5 6.5C8.3 6.2 9.1 6 10 6c5 0 8.27 3.11 9 6a11 11 0 01-2.16 3.19M12.5 13.5A5.5 5.5 0 011 10a11 11 0 012.84-3.69" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                        </button>
                    </div>
                    <span asp-validation-for="ConfirmPassword" class="pmu-invalid-feedback"></span>
                </div>

                <button type="submit" class="pmu-btn pmu-btn-primary">Reimposta Password</button>
            </form>

            <a href="@Url.Action("Landing", "Home")" class="pmu-link-secondary text-center">
                Torna alla home
            </a>
        </div>
    </div>
</div>
